{% extends 'wrapper.html' %}
{% load static %}
{% block title %}Products{% endblock title %}
{% block content %}
                <div class="page-titles" >
						<div class="d-flex justify-content-between align-items-center">
							<div>
								<form action="" method="GET" class="d-flex flex-wrap">
									{% csrf_token %}
									<button type="submit" class="btn btn-outline-success mx-2 my-2" name="billur_products">Billur mahsulotlari</button>
									<button type="submit" class="btn btn-outline-success mx-2 my-2" name="extra-products">Qo'shimcha mahsulotlar</button>
								</form>
							</div>
							<div>
								<button type="submit" class="btn btn-outline-secondary" name="new_product_add" data-toggle="modal" data-target="#exampleModal">Mahsuot qo'shish</button>
							</div>
						</div>
                </div>
                <div class="row">
					{% for i in object_list %}
					<div class="col-xl-3 col-lg-6 col-md-6 col-sm-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="new-arrival-product">
                                    <div class="new-arrivals-img-contnent" style="width: 100%;height: 300px;">
                                        <img class="img-fluid" src="{{ i.image.url }}" alt="" style="width: 100%;height:100%;">
                                    </div>
                                    <div class="new-arrival-content text-center mt-3">
                                        <div>
											<h4><a href="{% url 'products:product_detail' i.id %}">{{ i.name }}</a><span class="text-danger">{% if i.category.name == 'Billur' %}
											( Billur )
											{% else %}
											<a href=""></a>
											{% endif %}</span>
											</h4>
											<p>soni : {{ i.amount }}ta</p>
										</div>
                                        <span class="price">{{ i.price }}so'm</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
					{% endfor %}
                </div>
            </div>
			<div class='d-flex justify-content-center align-items-center'>
				<nav>
					<ul class="pagination pagination-gutter">
						{% if current_page.has_previous %}
						<li class="page-item page-indicator">
							<a class="page-link" href="?page=1">
								<i class="la la-angle-left"></i>
							</a>
						</li>
						{% endif %}
						{% for page_number in paginator.page_range %}
						<li class="page-item {% if page_number == current_page.number %} active {% endif %}">
							<a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
						</li>
						{% endfor %}
						{% if current_page.has_next %}
						<li class="page-item page-indicator">
							<a class="page-link" href="?page={{ paginator.num_pages }}">
								<i class="la la-angle-right"></i></a>
						</li>
						{% endif %}
					</ul>
				</nav>
			</div>
			<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
				  <div class="modal-content">
					<form action="" method="POST" enctype="multipart/form-data">
						{% csrf_token %}
					<div class="modal-header">
					  <h5 class="modal-title" id="exampleModalLabel">Mahsulot Qo'shish</h5>
					  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					  </button>
					</div>
					<div class="modal-body">
						
					{{ form }}
						
					</div>
					<div class="modal-footer">
					  <button type="button" class="btn btn-secondary" data-dismiss="modal">Yopish</button>
					  <button type="submit" class="btn btn-outline-secondary" name="new_product_add">Saqlash</button>
					</div>
				</form>
				  </div>
				</div>
			</div>
{% endblock content %}
